<!DOCTYPE HTML>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.js"></script>
    <script src="modernizr-1.5.min.js"></script>
    <title>Show location</title>
    <script type="text/javascript">
      function get_location() {
        if (Modernizr.geolocation) {
          navigator.geolocation.getCurrentPosition(show_map);
        } else {
          alert("geo location is not supported")
          // no native support; maybe try Gears?
        }
      }
      
      function show_map(position) {
        var latitude = position.coords.latitude;
        var longitude = position.coords.longitude;
        window.location.href = "http://maps.google.com/maps?q=loc:" + latitude + "," + longitude
      }
      
      $(document).ready(function() {
        $("#show").click(function(e){
          get_location();
        })
      });
    </script>
  </head>
  <body>
    <section>
      <h1>Show my current location</h1>
      <button id="show">Show location</button>
    </section>
  </body>  
</html>